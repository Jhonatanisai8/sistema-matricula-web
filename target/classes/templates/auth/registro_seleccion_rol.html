<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout-auth.html}">
<head>
    <meta charset="UTF-8">
    <title layout:fragment="title">Selecciona tu Rol de Registro</title>
</head>
<body>
<section layout:fragment="content" class="d-flex align-items-center justify-content-center min-vh-100 bg-light py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-lg p-4 rounded-3 text-center">
                    <div class="card-body">
                        <h2 class="card-title fw-bold text-primary mb-4">Selecciona tu Rol de Registro</h2>
                        <p class="text-muted mb-4">Por favor, elige el tipo de cuenta que deseas crear:</p>

                        <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show mb-4"
                             role="alert">
                            <i class="bi bi-x-circle-fill me-2"></i>
                            <span th:text="${errorMessage}"></span>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>

                        <div class="d-grid gap-3">
                            <a th:each="rol : ${roles}"
                               th:href="@{/auth/registro/form/{rol}(rol=${rol.name().toLowerCase()})}"
                               class="btn btn-outline-primary btn-lg d-flex align-items-center justify-content-center">
                                <i th:class="${rol.name() == 'DOCENTE' ? 'bi bi-mortarboard-fill me-2' :
                                                (rol.name() == 'ESTUDIANTE' ? 'bi bi-backpack-fill me-2' :
                                                (rol.name() == 'APODERADO' ? 'bi bi-person-fill-lock me-2' : ''))}"></i>
                                <span th:text="${#strings.capitalize(rol.name())}"></span>
                            </a>
                        </div>
                        <hr class="my-4">
                        <a th:href="@{/auth/login}" class="btn btn-link text-secondary"><i
                                class="bi bi-arrow-left-circle me-2"></i>Volver al Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>